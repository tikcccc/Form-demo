export const projects = [
  { id: 'project-a', name: 'Project A' },
  { id: 'project-b', name: 'Project B' },
];

export const roles = [
  { id: 'project-admin', label: 'Admin' },
  { id: 'contractor', label: 'Contractor' },
  { id: 'mtr', label: 'MTR' },
  { id: 'scone', label: 'SConE' },
  { id: 'cm', label: 'CM' },
];

export const commonFields = [
  { key: 'title', label: 'Title', type: 'text' },
  {
    key: 'contract',
    label: 'Contract',
    type: 'select',
    options: ['Contract A', 'Contract B'],
  },
];

export const attachmentStatusOptions = ['Approved', 'Rejected', 'AIP', 'For Info'];

export const templates = [
  {
    id: 'rfi-default',
    name: 'RFI',
    published: true,
    actionFlowEnabled: true,
    schema: [
      { key: 'subject', label: 'Subject', type: 'text', required: true },
      {
        key: 'discipline',
        label: 'Discipline',
        type: 'select',
        options: ['Structural', 'Architectural', 'MEP'],
      },
      {
        key: 'priority',
        label: 'Priority',
        type: 'select',
        options: ['Low', 'Medium', 'High'],
      },
      {
        key: 'impact',
        label: 'Impact',
        type: 'select',
        options: ['Yes', 'No'],
      },
      {
        key: 'costImpact',
        label: 'Cost Impact (HKD)',
        type: 'number',
        min: 0,
        defaultValue: null,
        required: true,
      },
      { key: 'scheduleImpact', label: 'Schedule Impact (Days)', type: 'number', min: 0 },
      { key: 'question', label: 'Question', type: 'textarea', required: true, minLength: 10, maxLength: 240 },
    ],
    layout: {
      sections: [
        {
          id: 'rfi-basic',
          name: 'Request',
          fields: ['subject', 'discipline', 'priority'],
        },
        {
          id: 'rfi-question',
          name: 'Question',
          fields: ['question'],
        },
        {
          id: 'rfi-impact',
          name: 'Impact',
          fields: ['impact', 'costImpact', 'scheduleImpact'],
          visibleWhen: { field: 'impact', equals: 'Yes' },
        },
      ],
    },
    actions: [
      {
        id: 'rfi-send',
        label: 'Send',
        isStart: true,
        allowedRoles: ['contractor'],
        toCandidateGroups: ['MTR', 'SConE', 'CM'],
        ccRoleIds: [],
        dueDays: 3,
        lastStep: true,
        allowDelegate: true,
        requiresAttachmentStatus: false,
        closeInstance: false,
        nextActionIds: ['rfi-reply'],
      },
      {
        id: 'rfi-reply',
        label: 'Reply',
        allowedRoles: ['mtr', 'scone', 'cm'],
        toCandidateGroups: ['Contractor'],
        ccRoleIds: [],
        dueDays: 2,
        lastStep: false,
        requiresAttachmentStatus: false,
        closeInstance: true,
      },
    ],
  },
  {
    id: 'cor-default',
    name: 'COR',
    published: true,
    actionFlowEnabled: true,
    schema: [
      {
        key: 'reason',
        label: 'Change Reason',
        type: 'select',
        options: ['Client Request', 'Design Update', 'Site Condition'],
      },
      { key: 'costDelta', label: 'Cost Delta (HKD)', type: 'number', min: 0 },
      { key: 'timeDelta', label: 'Time Delta (Days)', type: 'number', min: 0 },
      { key: 'description', label: 'Description', type: 'textarea', required: true, minLength: 8 },
    ],
    layout: {
      sections: [
        {
          id: 'cor-basic',
          name: 'Change Summary',
          fields: ['reason', 'costDelta', 'timeDelta'],
        },
        {
          id: 'cor-desc',
          name: 'Description',
          fields: ['description'],
        },
      ],
    },
    actions: [
      {
        id: 'cor-submit',
        label: 'Submit',
        isStart: true,
        allowedRoles: ['contractor'],
        toCandidateGroups: ['CM', 'MTR'],
        ccRoleIds: [],
        dueDays: 5,
        lastStep: true,
        allowDelegate: true,
        requiresAttachmentStatus: false,
        closeInstance: false,
        nextActionIds: ['cor-final', 'cor-request'],
      },
      {
        id: 'cor-request',
        label: 'Send (Require Response)',
        allowedRoles: ['cm', 'mtr'],
        toCandidateGroups: ['Contractor'],
        ccRoleIds: [],
        dueDays: 2,
        lastStep: true,
        requiresAttachmentStatus: false,
        closeInstance: false,
        nextActionIds: ['cor-submit'],
      },
      {
        id: 'cor-final',
        label: 'Reply (Final)',
        allowedRoles: ['cm', 'mtr'],
        toCandidateGroups: ['Contractor'],
        ccRoleIds: [],
        dueDays: 2,
        lastStep: false,
        requiresAttachmentStatus: false,
        closeInstance: true,
      },
    ],
  },
  {
    id: 'csf-default',
    name: 'CSF',
    published: true,
    actionFlowEnabled: true,
    schema: [
      {
        key: 'specSection',
        label: 'Spec Section',
        type: 'text',
        required: true,
        minLength: 3,
        maxLength: 12,
      },
      {
        key: 'package',
        label: 'Package',
        type: 'select',
        options: ['Concrete', 'Steel', 'Facade', 'MEP'],
      },
      { key: 'description', label: 'Description', type: 'textarea' },
    ],
    layout: {
      sections: [
        {
          id: 'csf-basic',
          name: 'Submittal',
          fields: ['specSection', 'package', 'description'],
        },
      ],
    },
    actions: [
      {
        id: 'csf-submit',
        label: 'Submit',
        isStart: true,
        allowedRoles: ['contractor'],
        toCandidateGroups: ['MTR', 'CM'],
        ccRoleIds: [],
        dueDays: 4,
        lastStep: true,
        allowDelegate: true,
        requiresAttachmentStatus: false,
        closeInstance: false,
        nextActionIds: ['csf-approved', 'csf-aip', 'csf-not-approved'],
      },
      {
        id: 'csf-approved',
        label: 'Approved',
        allowedRoles: ['mtr', 'cm'],
        toCandidateGroups: ['Contractor'],
        ccRoleIds: [],
        dueDays: 2,
        lastStep: false,
        requiresAttachmentStatus: true,
        closeInstance: true,
        statusSet: ['Approved', 'For Info'],
      },
      {
        id: 'csf-aip',
        label: 'AIP',
        allowedRoles: ['mtr', 'cm'],
        toCandidateGroups: ['Contractor'],
        ccRoleIds: [],
        dueDays: 2,
        lastStep: true,
        requiresAttachmentStatus: true,
        closeInstance: false,
        statusSet: ['AIP', 'Rejected'],
        nextActionIds: ['csf-submit'],
      },
      {
        id: 'csf-not-approved',
        label: 'Not Approved',
        allowedRoles: ['mtr', 'cm'],
        toCandidateGroups: ['Contractor'],
        ccRoleIds: [],
        dueDays: 2,
        lastStep: true,
        requiresAttachmentStatus: true,
        closeInstance: false,
        statusSet: ['Rejected'],
        nextActionIds: ['csf-submit'],
      },
    ],
  },
];

export const fileLibrary = [
  {
    key: 'project-a',
    title: 'Project A',
    nodeType: 'folder',
    children: [
      {
        key: 'rfi-2024',
        title: '01 RFI',
        nodeType: 'folder',
        children: [
          {
            key: 'rfi-2024-0001',
            title: 'RFI-2024-0001',
            nodeType: 'folder',
            children: [
              {
                key: 'file-rfi-b2-sketch',
                title: 'RFI-B2-Sketch.pdf',
                nodeType: 'file',
                file: {
                  type: 'PDF',
                  version: 'A',
                  size: '420 KB',
                },
              },
              {
                key: 'file-rfi-b2-response',
                title: 'RFI-B2-Response.pdf',
                nodeType: 'file',
                file: {
                  type: 'PDF',
                  version: 'B',
                  size: '610 KB',
                },
              },
            ],
          },
          {
            key: 'rfi-2024-0002',
            title: 'RFI-2024-0002',
            nodeType: 'folder',
            children: [
              {
                key: 'file-rfi-conn-details',
                title: 'Connection-Details.dwg',
                nodeType: 'file',
                file: {
                  type: 'DWG',
                  version: 'A',
                  size: '1.8 MB',
                },
              },
            ],
          },
        ],
      },
      {
        key: 'cor-2024',
        title: '02 COR',
        nodeType: 'folder',
        children: [
          {
            key: 'cor-2024-0007',
            title: 'COR-2024-0007',
            nodeType: 'folder',
            children: [
              {
                key: 'file-cor-sequence',
                title: 'COR-Sequence.pdf',
                nodeType: 'file',
                file: {
                  type: 'PDF',
                  version: 'C',
                  size: '520 KB',
                },
              },
              {
                key: 'file-cor-cost-impact',
                title: 'COR-Cost-Impact.xlsx',
                nodeType: 'file',
                file: {
                  type: 'XLSX',
                  version: 'A',
                  size: '240 KB',
                },
              },
            ],
          },
        ],
      },
      {
        key: 'submittals',
        title: '03 Submittals',
        nodeType: 'folder',
        children: [
          {
            key: 'submittals-facade',
            title: 'Facade',
            nodeType: 'folder',
            children: [
              {
                key: 'file-anchor-detail',
                title: 'Anchor-Detail.pdf',
                nodeType: 'file',
                file: {
                  type: 'PDF',
                  version: 'B',
                  size: '780 KB',
                },
              },
              {
                key: 'file-anchor-calc',
                title: 'Anchor-Calc.xlsx',
                nodeType: 'file',
                file: {
                  type: 'XLSX',
                  version: 'A',
                  size: '310 KB',
                },
              },
            ],
          },
        ],
      },
      {
        key: 'shared',
        title: '04 Shared',
        nodeType: 'folder',
        children: [
          {
            key: 'file-project-specs',
            title: 'Project-Specs.pdf',
            nodeType: 'file',
            file: {
              type: 'PDF',
              version: 'D',
              size: '2.4 MB',
            },
          },
          {
            key: 'file-submittal-log',
            title: 'Submittal-Log.xlsx',
            nodeType: 'file',
            file: {
              type: 'XLSX',
              version: 'E',
              size: '180 KB',
            },
          },
        ],
      },
    ],
  },
];

export const instances = [
  {
    id: 'inst-rfi-001',
    transmittalNo: 'RFI-2024-0001',
    templateId: 'rfi-default',
    title: 'Clarify beam connection',
    status: 'Closed',
    createdBy: 'contractor',
    createdAt: '2024-10-02',
    formData: {
      title: 'Clarify beam connection',
      subject: 'Beam B2 detail',
      discipline: 'Structural',
      priority: 'High',
      impact: 'Yes',
      costImpact: 12000,
      scheduleImpact: 3,
      question: 'Confirm plate thickness for B2 connection detail.',
    },
    attachments: [
      {
        id: 'att-rfi-001',
        name: 'RFI-B2-Sketch.pdf',
        type: 'PDF',
        version: 'A',
        size: '420 KB',
        status: 'For Info',
        stepId: 'step-rfi-001',
      },
      {
        id: 'att-rfi-002',
        name: 'RFI-B2-Detail.pdf',
        type: 'PDF',
        version: 'A',
        size: '260 KB',
        status: 'For Info',
        stepId: 'step-rfi-001',
      },
    ],
    steps: [
      {
        id: 'step-rfi-001',
        actionId: 'rfi-send',
        actionLabel: 'Send',
        fromRoleId: 'contractor',
        toGroup: 'MTR',
        toGroups: ['MTR', 'SConE', 'CM'],
        sentAt: '2024-10-02',
        sentAtTime: '2024-10-02T09:20:00Z',
        openedAt: '2024-10-03',
        dueDate: '2024-10-05',
        lastStep: true,
        requiresAttachmentStatus: false,
        message: 'Please review and respond.',
      },
      {
        id: 'step-rfi-002',
        actionId: 'rfi-reply',
        actionLabel: 'Reply',
        fromRoleId: 'mtr',
        toGroup: 'Contractor',
        toGroups: ['Contractor'],
        sentAt: '2024-10-04',
        sentAtTime: '2024-10-04T15:40:00Z',
        openedAt: '2024-10-04',
        dueDate: '2024-10-06',
        lastStep: false,
        requiresAttachmentStatus: false,
        message: 'Plate thickness confirmed at 12 mm.',
      },
    ],
  },
  {
    id: 'inst-csf-001',
    transmittalNo: 'CSF-2024-0002',
    templateId: 'csf-default',
    title: 'Facade anchor system',
    status: 'Closed',
    createdBy: 'contractor',
    createdAt: '2024-10-05',
    formData: {
      title: 'Facade anchor system',
      specSection: '07 24 00',
      package: 'Facade',
      description: 'Anchor assembly submittal for review.',
    },
    attachments: [
      {
        id: 'att-csf-001',
        name: 'Anchor-Detail.pdf',
        type: 'PDF',
        version: 'B',
        size: '780 KB',
        status: 'Approved',
        stepId: 'step-csf-001',
      },
      {
        id: 'att-csf-002',
        name: 'Anchor-Calc.xlsx',
        type: 'XLSX',
        version: 'A',
        size: '310 KB',
        status: 'Approved',
        stepId: 'step-csf-001',
      },
    ],
    steps: [
      {
        id: 'step-csf-001',
        actionId: 'csf-submit',
        actionLabel: 'Submit',
        fromRoleId: 'contractor',
        toGroup: 'MTR',
        toGroups: ['MTR', 'CM'],
        sentAt: '2024-10-05',
        sentAtTime: '2024-10-05T10:05:00Z',
        openedAt: '2024-10-06',
        dueDate: '2024-10-09',
        lastStep: true,
        requiresAttachmentStatus: false,
        message: 'Please review for approval.',
      },
      {
        id: 'step-csf-002',
        actionId: 'csf-approved',
        actionLabel: 'Approved',
        fromRoleId: 'mtr',
        toGroup: 'Contractor',
        toGroups: ['Contractor'],
        sentAt: '2024-10-08',
        sentAtTime: '2024-10-08T16:10:00Z',
        openedAt: '2024-10-08',
        dueDate: '2024-10-10',
        lastStep: false,
        requiresAttachmentStatus: true,
        message: 'Approved with status noted.',
      },
    ],
  },
  {
    id: 'inst-cor-001',
    transmittalNo: 'COR-2024-0003',
    templateId: 'cor-default',
    title: 'Slab pour sequence change',
    status: 'Closed',
    createdBy: 'contractor',
    createdAt: '2024-09-20',
    formData: {
      title: 'Slab pour sequence change',
      reason: 'Site Condition',
      costDelta: 35000,
      timeDelta: 5,
      description: 'Adjust pour sequence due to access constraints.',
    },
    attachments: [
      {
        id: 'att-cor-001',
        name: 'COR-Sequence.pdf',
        type: 'PDF',
        version: 'C',
        size: '520 KB',
        status: 'Approved',
        stepId: 'step-cor-001',
      },
    ],
    steps: [
      {
        id: 'step-cor-001',
        actionId: 'cor-submit',
        actionLabel: 'Submit',
        fromRoleId: 'contractor',
        toGroup: 'CM',
        toGroups: ['CM', 'MTR'],
        sentAt: '2024-09-20',
        sentAtTime: '2024-09-20T08:45:00Z',
        openedAt: '2024-09-21',
        dueDate: '2024-09-25',
        lastStep: true,
        requiresAttachmentStatus: false,
        message: 'Request approval for revised sequence.',
      },
      {
        id: 'step-cor-002',
        actionId: 'cor-final',
        actionLabel: 'Reply (Final)',
        fromRoleId: 'cm',
        toGroup: 'Contractor',
        toGroups: ['Contractor'],
        sentAt: '2024-09-23',
        sentAtTime: '2024-09-23T14:05:00Z',
        openedAt: '2024-09-23',
        dueDate: '2024-09-25',
        lastStep: false,
        requiresAttachmentStatus: false,
        message: 'Approved with no additional cost.',
      },
    ],
  },
];

export const initialState = {
  projects,
  roles,
  commonFields,
  attachmentStatusOptions,
  templates,
  fileLibrary,
  instances,
  currentProjectId: 'project-a',
  currentRoleId: 'contractor',
};
